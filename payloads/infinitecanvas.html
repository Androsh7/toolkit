<!DOCTYPE html>
<html>
  <canvas id="c" width="4096" height="4096" style="width:4096px; height:4096px; display:block; border:1px solid #ccc;"></canvas>
  <div id="canvasStats" style="margin:.5rem 0;"></div>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
  const STEP_MS = 0;
  window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
    const grid = document.createElement('div');
    grid.id = 'canvasGrid';
    grid.style.display = 'grid';
    grid.style.gridTemplateColumns = 'repeat(auto-fill, 256px)';
    grid.style.gap = '8px';

    const statsEl = document.getElementById('canvasStats');

    const first = document.getElementById('c');
    first.width = 4096; first.height = 4096;
    first.style.width = '4096px'; first.style.height = '4096px';

    statsEl.parentNode.insertBefore(grid, statsEl);
    grid.appendChild(first);

    function drawInto(canvas) {
      const ctx = canvas.getContext('2d', { willReadFrequently: false, alpha: false, desynchronized: true });
      if (!ctx) return;
      ctx.fillStyle = '#eaeaea';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = '#222';
      ctx.fillRect(0, 0, canvas.width / 2, canvas.height / 2);
      ctx.fillRect(canvas.width / 2, canvas.height / 2, canvas.width / 2, canvas.height / 2);
    }

    drawInto(first);
    let count = 1;

    let timer = null;
    function addOne() {
      const cnv = document.createElement('canvas');
      cnv.width = 4096; cnv.height = 4096;
      cnv.style.width = '4096px'; cnv.style.height = '4096px';
      drawInto(cnv);
      grid.appendChild(cnv);
      timer = setTimeout(addOne, STEP_MS);
    }

    timer = setTimeout(addOne, STEP_MS);
  });
  </script>
</html>